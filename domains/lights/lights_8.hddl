(define
    (problem lights_8)
    (:domain lights)
    (:objects
        light1 - light
        light2 - light
        light3 - light
        light4 - light
        light5 - light
        light6 - light
        light7 - light
        light8 - light
    )
    (:htn
        :parameters ()
        :subtasks (and
            (task0 (inspect_light light1))
            (task1 (inspect_light light2))
            (task2 (inspect_light light3))
            (task3 (inspect_light light4))
            (task4 (inspect_light light5))
            (task5 (inspect_light light6))
            (task6 (inspect_light light7))
            (task7 (inspect_light light8))
            (task8 (maybe_change_bulb light1))
            (task9 (maybe_change_bulb light2))
            (task10 (maybe_change_bulb light3))
            (task11 (maybe_change_bulb light4))
            (task12 (maybe_change_bulb light5))
            (task13 (maybe_change_bulb light6))
            (task14 (maybe_change_bulb light7))
            (task15 (maybe_change_bulb light8))
            (task16 (verify))
        )
        :ordering (and
            ;; inspections in order
            (< task0 task1)
            (< task1 task2)
            (< task2 task3)
            (< task3 task4)
            (< task4 task5)
            (< task5 task6)
            (< task6 task7)
            ;; change bulbs partially ordered
            (< task7 task8)
            (< task7 task9)
            (< task7 task10)
            (< task7 task11)
            (< task7 task12)
            (< task7 task13)
            (< task7 task14)
            (< task7 task15)
            ;; verification at the end
            (< task8 task16)
            (< task9 task16)
            (< task10 task16)
            (< task11 task16)
            (< task12 task16)
            (< task13 task16)
            (< task14 task16)
            (< task15 task16)
        )
    )
)
